import{r as d,j as e,a as m,F as p}from"./index.252e8214.js";import"./9902071a.js";import"./e5f53d84.js";import"./8da5c389.js";import"./012162d8.js";import"./dc2f4f4e.js";import{u}from"./098c57dd.js";import"./3606955f.js";import"./d6f8319b.js";import"./00da654c.js";import{f as b}from"./891d49ac.js";import{I as h,a as f}from"./9d1a8ee0.js";import"./1ae3511f.js";/* empty css        */import{p as l}from"./0c249477.js";import"./a9c55e63.js";import"./92add5bc.js";import"./66a845bb.js";import"./da876cac.js";import"./e1828f3b.js";import"./d6282b27.js";import"./c98bad36.js";function q(){const[s,c]=d.exports.useState(!1),{country:{isoCode:o}}=u(),n=d.exports.useMemo(()=>({name:new Intl.DisplayNames(["en"],{type:"region"}).of(o),isoCode:o}),[o]),i=d.exports.useCallback(({isoCode:r})=>{const t=window.location.pathname;let a;r!=="US"?n.isoCode==="US"?a=`/${r.toLowerCase()}${t}`:a=`/${r.toLowerCase()}${t.substring(t.indexOf("/",1))}`:a=`${t.substring(t.indexOf("/",1))}`,window.location.href=a},[n]);return e("div",{className:"relative",children:e(l,{onChange:i,children:({open:r})=>(setTimeout(()=>c(r)),m(p,{children:[m(l.Button,{className:`flex items-center justify-between w-full py-3 px-4 border ${r?"rounded-b md:rounded-t md:rounded-b-none":"rounded"} border-contrast/30 dark:border-white`,children:[e("span",{className:"",children:n.name}),e(h,{direction:r?"up":"down"})]}),e(l.Options,{className:`border-t-contrast/30 border-contrast/30 bg-primary dark:bg-contrast absolute bottom-12 z-10 grid
                h-48 w-full overflow-y-scroll rounded-t border dark:border-white px-2 py-2
                transition-[max-height] duration-150 sm:bottom-auto md:rounded-b md:rounded-t-none
                md:border-t-0 md:border-b ${s?"max-h-48":"max-h-0"}`,children:s&&e(d.exports.Suspense,{fallback:e("div",{className:"p-2",children:"Loading\u2026"}),children:e(x,{selectedCountry:n,getClassName:t=>`text-contrast dark:text-primary bg-primary 
                        dark:bg-contrast w-full p-2 transition rounded 
                        flex justify-start items-center text-left cursor-pointer ${t?"bg-primary/10":null}`})})})]}))})})}function x({selectedCountry:s,getClassName:c}){const o=b("/api/countries");let n;return o.ok?n=o.json():console.error(`Unable to load available countries ${o.url} returned a ${o.status}`),n?n.map(i=>{const r=i.isoCode===s.isoCode;return e(l.Option,{value:i,children:({active:t})=>m("div",{className:`text-contrast dark:text-primary ${c(t)}`,children:[i.name,r?e("span",{className:"ml-2",children:e(f,{})}):null]})},i.isoCode)}):e("div",{className:"flex justify-center",children:m("div",{className:"mt-4 text-center",children:[e("div",{children:"Unable to load available countries."}),e("div",{children:"Please try again."})]})})}export{x as Countries,q as CountrySelector};
//# sourceMappingURL=d7dc285b.js.map
