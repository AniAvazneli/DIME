import{j as e,r as l,a as s,F as I}from"./index.252e8214.js";import{Link as O}from"./9902071a.js";import{f as U}from"./92add5bc.js";import"./e5f53d84.js";import"./8da5c389.js";import"./012162d8.js";import"./dc2f4f4e.js";import"./3606955f.js";import"./d6f8319b.js";import"./00da654c.js";import{B as z}from"./7eec9349.js";import{n as D}from"./9d1a8ee0.js";import"./1ae3511f.js";import{ProductCard as M}from"./cf847101.js";import{g as T}from"./96676335.js";/* empty css        */import"./a9c55e63.js";import"./e1828f3b.js";import"./66a845bb.js";import"./da876cac.js";import"./d6282b27.js";import"./904c1e25.js";import"./cab3a310.js";import"./098c57dd.js";import"./c8ad9aa9.js";function Y({as:c="div",className:d,flow:n="row",gap:f="default",items:i=4,layout:a="default",...u}){const g={default:`grid-cols-1 ${i===2&&"md:grid-cols-2"}  ${i===3&&"sm:grid-cols-3"} ${i>3&&"md:grid-cols-3"} ${i>=4&&"lg:grid-cols-4"}`,products:`grid-cols-2 ${i>=3&&"md:grid-cols-3"} ${i>=4&&"lg:grid-cols-4"}`,auto:"auto-cols-auto",blog:"grid-cols-2 pt-24"},m={default:"grid gap-2 gap-y-6 md:gap-4 lg:gap-6",blog:"grid gap-6"},p=D({row:"grid-flow-row",col:"grid-flow-col"}[n],m[f],g[a],d);return e(c,{...u,className:p})}function he({url:c,collection:d}){var v,y,k;const n=l.exports.useRef(null),f=((v=d==null?void 0:d.products)==null?void 0:v.nodes)||[],{hasNextPage:i,endCursor:a}=(k=(y=d==null?void 0:d.products)==null?void 0:y.pageInfo)!=null?k:{},[u,g]=l.exports.useState(f),[m,x]=l.exports.useState(a!=null?a:""),[p,S]=l.exports.useState(i),[b,w]=l.exports.useState(!1),L=f.length>0,h=l.exports.useCallback(async()=>{var $,j,C,B;w(!0);const r=new URL(window.location.origin+c);r.searchParams.set("cursor",m);const o=await fetch(r,{method:"POST"}),{data:t}=await o.json(),E=U((($=t==null?void 0:t.collection)==null?void 0:$.products)||(t==null?void 0:t.products)||[]),{endCursor:F,hasNextPage:G}=((C=(j=t==null?void 0:t.collection)==null?void 0:j.products)==null?void 0:C.pageInfo)||((B=t==null?void 0:t.products)==null?void 0:B.pageInfo)||{endCursor:"",hasNextPage:!1};g([...u,...E]),x(F),S(G),w(!1)},[m,c,u]),N=l.exports.useCallback(r=>{r.forEach(o=>{o.isIntersecting&&h()})},[h]);if(l.exports.useEffect(()=>{const r=new IntersectionObserver(N,{rootMargin:"100%"}),o=n.current;return o&&r.observe(o),()=>{o&&r.unobserve(o)}},[n,m,N]),!L)return s(I,{children:[e("p",{children:"No products found on this collection"}),e(O,{to:"/products",children:e("p",{className:"underline",children:"Browse catalog"})})]});const[P,R]=l.exports.useState(0),A=r=>{R(P+ +r)};return s(I,{children:[e(Y,{layout:"products",children:u.map((r,o)=>e(M,{priceAction:A,product:r,loading:T(o)},r.id))}),e(q,{totalPrice:P}),p&&e("div",{className:"flex items-center justify-center mt-6",ref:n,children:e(z,{variant:"secondary",disabled:b,onClick:h,width:"full",children:b?"Loading...":"Load more products"})})]})}function q(c){return s("div",{className:"flex flex-col",children:[e("div",{className:"flex bg-black text-white text-center h-10 justify-center items-center rounded-t-xl",children:e("h2",{className:"flex  text-white text-center items-center justify-center",children:"Add $100 to save 10%"})}),s("div",{className:"flex flex-col bg-stone-200 px-7 py-3.5 ",children:[s("div",{className:"flex flex-row justify-between text-lg font-medium",children:[s("div",{className:"",children:[e("h3",{className:"",children:"Boundle Price"}),s("h3",{className:"font-bold text-2xl",children:["$",c.totalPrice]})]}),s("div",{className:"",children:[e("h3",{className:"",children:"Your Savings"}),e("h3",{className:"font-bold text-2xl",children:c.totalPrice>100?"$"+c.totalPrice/10:"$"+0})]})]}),s("div",{className:"bg-orange-100 flex flex-row mt-2 rounded-xl w-full",children:[e("div",{className:c.totalPrice>100?"h-5 border-y-0 border-l-0 border  bg-zinc-500 border-black w-6/12 left-0 rounded-l-xl":"h-5 border-y-0 border-l-0 border  border-black w-6/12 bg-red "}),e("div",{className:"h-5 border-y-0 border-l-0 border border-black w-3/12"}),e("div",{className:"h-5 border-y-0 border-l-0 border border-black w-3/12"}),e("div",{className:"h-5 border-y-0  border border-l-0  border-black w-3/12 mr-3"})]}),s("div",{className:"flex flex-row w-full font-bold text-base m-1.5",children:[e("div",{className:"w-6/12 text-right	",children:"10%"}),e("div",{className:"w-3/12 text-right	",children:"15%"}),e("div",{className:"w-3/12 text-right	",children:"20%"}),e("div",{className:"w-3/12 text-right	",children:"25%"})]})]})]})}export{he as ProductGrid};
//# sourceMappingURL=a8e4a546.js.map
